(function(k,d){function t(a){a=a.slice();for(let b=a.length-1;0<b;b--){const c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}return a}function l(a,b,c){a=d.createElement(a);a.className=b;a.innerHTML=c;return a}function x(){function a(c){return 9<c?c:"0"+c}let b=0;u=setInterval(function(){d.getElementById("seconds").innerHTML=a(++b%60);d.getElementById("minutes").innerHTML=a(parseInt(b/60,10))},1E3)}function y(){q=t(m.concat(m));q.forEach(a=>{const b=new l("DIV","wrpko",""),c=new l("DIV",
"korta","");a=new l("DIV","galas "+a,"");const e=new l("DIV","priekis","");b.appendChild(c).appendChild(a);c.appendChild(e);v.appendChild(b)});f.appendChild(v);x()}function w(a){n.classList.add("hidden");a=new l("button","btn",a);a.onclick=()=>{y();g.style.display="none";n.classList.remove("hidden")};g.prepend(a)}const m="abcdefgjkl".split("");let q=t(m.concat(m));const v=d.createDocumentFragment(),f=d.getElementsByClassName("grid-container")[0],g=d.getElementsByClassName("message")[0],n=d.getElementsByClassName("time")[0];
var p=null,h=0;let u=0;d.addEventListener("click",a=>{const b=a.target;if(b.classList.contains("korta")){h||(p=a.target);if(2===h)return!1;++h;const c=.5<=Math.round(Math.random())?"pasukti":"pasukti1";b.className+=" "+c;if(2===h)if(f.style.pointerEvents="none",p.firstChild.className===b.firstChild.className){let e=setTimeout(()=>{clearTimeout(e);e=0;b.classList.add("blur");p.classList.add("blur");h=0;f.style.pointerEvents="auto";if(f.getElementsByClassName("blur").length===q.length){clearInterval(u);
g.innerHTML=`<p>YOU WON!</p><p>your time: ${n.textContent}</p>`;for(let r=0;r<k.localStorage.length;r++)g.innerHTML+=`<p class="time">${k.localStorage.getItem(k.localStorage.key(r))}</p>`;f.innerHTML="";w("Play again");k.localStorage.setItem(`time${k.localStorage.length+1}`,n.textContent);g.style.display="block"}},300)}else{let e=setTimeout(()=>{clearTimeout(e);e=0;b.classList.remove(c);p.className="korta";h=0;f.style.pointerEvents="auto"},900)}}});w("Start")})(window,document);
